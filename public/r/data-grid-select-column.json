{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "data-grid-select-column",
  "type": "registry:component",
  "title": "Data Grid Select Column",
  "description": "A reusable select column definition for the data grid with checkbox selection and shift-click support",
  "dependencies": [
    "@tanstack/react-table"
  ],
  "registryDependencies": [
    "checkbox"
  ],
  "files": [
    {
      "path": "src/components/data-grid/data-grid-select-column.tsx",
      "content": "\"use client\";\n\nimport type { CellContext, ColumnDef, Table } from \"@tanstack/react-table\";\nimport * as React from \"react\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { cn } from \"@/lib/utils\";\n\nfunction DataGridSelectCheckbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof Checkbox>) {\n  return (\n    <Checkbox\n      className={cn(\n        \"after:-inset-2.5 relative transition-[shadow,border] after:absolute after:content-[''] hover:border-primary/40\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DataGridSelectHeader<TData>({ table }: { table: Table<TData> }) {\n  const onCheckedChange = React.useCallback(\n    (value: boolean) => table.toggleAllPageRowsSelected(value),\n    [table],\n  );\n\n  return (\n    <DataGridSelectCheckbox\n      aria-label=\"Select all\"\n      checked={\n        table.getIsAllPageRowsSelected() ||\n        (table.getIsSomePageRowsSelected() && \"indeterminate\")\n      }\n      onCheckedChange={onCheckedChange}\n    />\n  );\n}\n\nfunction DataGridSelectCell<TData>({\n  row,\n  table,\n}: Pick<CellContext<TData, unknown>, \"row\" | \"table\">) {\n  const onRowSelect = table.options.meta?.onRowSelect;\n\n  const onCheckedChange = React.useCallback(\n    (value: boolean) => {\n      if (onRowSelect) {\n        onRowSelect(row.index, value, false);\n      } else {\n        row.toggleSelected(value);\n      }\n    },\n    [onRowSelect, row],\n  );\n\n  const onClick = React.useCallback(\n    (event: React.MouseEvent) => {\n      if (event.shiftKey) {\n        event.preventDefault();\n        onRowSelect?.(row.index, !row.getIsSelected(), true);\n      }\n    },\n    [onRowSelect, row],\n  );\n\n  return (\n    <DataGridSelectCheckbox\n      aria-label=\"Select row\"\n      checked={row.getIsSelected()}\n      onCheckedChange={onCheckedChange}\n      onClick={onClick}\n    />\n  );\n}\n\nexport function getDataGridSelectColumn<TData>({\n  size = 40,\n  enableHiding = false,\n  enableResizing = false,\n  enableSorting = false,\n  ...props\n}: Partial<ColumnDef<TData>> = {}): ColumnDef<TData> {\n  return {\n    id: \"select\",\n    header: DataGridSelectHeader,\n    cell: DataGridSelectCell,\n    size,\n    enableHiding,\n    enableResizing,\n    enableSorting,\n    ...props,\n  };\n}\n",
      "type": "registry:component",
      "target": "src/components/data-grid/data-grid-select-column.tsx"
    }
  ]
}