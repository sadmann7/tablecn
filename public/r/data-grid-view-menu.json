{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "data-grid-view-menu",
  "type": "registry:component",
  "title": "Data Grid View Menu",
  "description": "A view menu component for the data grid to toggle column visibility",
  "dependencies": [
    "@radix-ui/react-direction",
    "@tanstack/react-table",
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "command",
    "popover"
  ],
  "files": [
    {
      "path": "src/components/data-grid/data-grid-view-menu.tsx",
      "content": "\"use client\";\n\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport type { Table } from \"@tanstack/react-table\";\nimport { Check, Settings2 } from \"lucide-react\";\nimport * as React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from \"@/components/ui/command\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { cn } from \"@/lib/utils\";\n\ninterface DataGridViewMenuProps<TData>\n  extends React.ComponentProps<typeof PopoverContent> {\n  table: Table<TData>;\n}\n\nexport function DataGridViewMenu<TData>({\n  table,\n  className,\n  ...props\n}: DataGridViewMenuProps<TData>) {\n  const dir = useDirection();\n\n  const columns = React.useMemo(\n    () =>\n      table\n        .getAllColumns()\n        .filter(\n          (column) =>\n            typeof column.accessorFn !== \"undefined\" && column.getCanHide(),\n        ),\n    [table],\n  );\n\n  return (\n    <Popover>\n      <PopoverTrigger asChild>\n        <Button\n          aria-label=\"Toggle columns\"\n          role=\"combobox\"\n          dir={dir}\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"ms-auto hidden h-8 font-normal lg:flex\"\n        >\n          <Settings2 className=\"text-muted-foreground\" />\n          View\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent\n        dir={dir}\n        className={cn(\"w-44 p-0\", className)}\n        {...props}\n      >\n        <Command>\n          <CommandInput placeholder=\"Search columns...\" />\n          <CommandList>\n            <CommandEmpty>No columns found.</CommandEmpty>\n            <CommandGroup>\n              {columns.map((column) => (\n                <CommandItem\n                  key={column.id}\n                  onSelect={() =>\n                    column.toggleVisibility(!column.getIsVisible())\n                  }\n                >\n                  <span className=\"truncate\">\n                    {column.columnDef.meta?.label ?? column.id}\n                  </span>\n                  <Check\n                    className={cn(\n                      \"ms-auto size-4 shrink-0\",\n                      column.getIsVisible() ? \"opacity-100\" : \"opacity-0\",\n                    )}\n                  />\n                </CommandItem>\n              ))}\n            </CommandGroup>\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  );\n}\n",
      "type": "registry:component",
      "target": "src/components/data-grid/data-grid-view-menu.tsx"
    }
  ]
}